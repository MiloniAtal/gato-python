import subprocess
import gpu_library
import numpy as np
import time

print("")
print("------------------ADMM OUTPUT----------------------------------")
print("")
H = [1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0]
g = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
A = [0.2655115856921195, 0.10854852571496944, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, -1.0, -0.0, -0.748596987524897, 0.44432461027331926, 0.0, 0.0, 0.0, 0.0, 0.0, -0.0, -1.0, 0.44432461027331926, 0.6858482980992021, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2655115856921195, 0.10854852571496944, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, -1.0, -0.0, -0.748596987524897, 0.44432461027331926, 0.0, 0.0, 0.0, 0.0, 0.0, -0.0, -1.0, 0.44432461027331926, 0.6858482980992021, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2655115856921195, 0.10854852571496944, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, -1.0, -0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.0, -1.0, 0.0, 0.0, 0.0]
l = [-2.2462396753487175, -3.53040504040119, 0.0, 0.0, 0.0, 0.0, -1.0, -1.0, -1.0]
u = [-2.2462396753487175, -3.53040504040119, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0]

x = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
z = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
lamb = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
rho = 0.1

sigma = 1e-6
tol = 1e-3
max_iter = 100

x, l, z = gpu_library.admm_solve(H, g, A, l, u, x, lamb, z, rho, sigma, tol, max_iter)

print(x)
print(l)
print(z)